(function(){var e,t,n,o,r,i,a,c,s,l,u,f,d,h,p,m,w,b=[].slice,y={}.hasOwnProperty,g=function(e,t){for(var n in t){if(y.call(t,n))e[n]=t[n]}function o(){this.constructor=e}o.prototype=t.prototype;e.prototype=new o;e.__super__=t.prototype;return e};r={api:"https://api.github.com",anchorClass:"github-button",iconClass:"octicon",icon:"octicon-mark-github",scriptId:"github-bjs",styles:["default","mega"]};if(r.script=document.getElementById(r.scriptId)){r.url=r.script.src.replace(/[?#].*$/,"").replace(/buttons.js$/,"")}c=function(){var e;function t(){}t.flatten=function(t){var n,o;n=function(t,r){var i,a,c,s,l,u;switch(e.call(t)){case"[object Object]":for(c in t){s=t[c];n(s,r?""+r+"."+c:c)}break;case"[object Array]":for(i=l=0,u=t.length;l<u;i=++l){a=t[i];n(a,r?""+r+"["+i+"]":"["+i+"]")}break;default:o[r]=t}};o={};n(t);return o};t.expand=function(t){var n,o,r,i,a,c,s,l,u,f,d,h,p,m;a=[];for(n in t){l=t[n];r=[];p=n.split(".");for(u=0,d=p.length;u<d;u++){o=p[u];i=o.match(/^(.*?)((?:\[[0-9]+\])*)$/);if(i[1]){r.push(i[1])}if(i[2]){m=i[2].replace(/^\[|\]$/g,"").split("][");for(f=0,h=m.length;f<h;f++){c=m[f];r.push(Number(c))}}}s=a;o=0;while(r.length){if(s[o]==null){switch(e.call(r[0])){case"[object String]":s[o]={};break;case"[object Number]":s[o]=[]}}s=s[o];o=r.shift()}s[o]=l}return a[0]};e=Object.prototype.toString;return t}();p=function(){function e(){}e.stringify=function(e){var t,n,o;n=[];for(t in e){o=e[t];if(o==null){o=""}n.push(""+t+"="+o)}return n.join("&")};e.parse=function(e){var t,n,o,r,i,a,c,s;n={};c=e.split("&");for(i=0,a=c.length;i<a;i++){o=c[i];if(!(o!=="")){continue}s=o.split("="),t=s[0],r=2<=s.length?b.call(s,1):[];if(t!==""){n[t]=r.join("=")}}return n};return e}();u=function(){function e(){}e.encode=function(e){return"#"+encodeURIComponent(p.stringify(c.flatten(e)))};e.decode=function(e){if(e==null){e=document.location.hash}return c.expand(p.parse(decodeURIComponent(e.replace(/^#/,""))))||{}};return e}();a=function(){var e,t,n,o,r,i,a;function c(e,t){this.element=e&&e.nodeType===1?e:document.createElement(e);if(t){t(this.element)}}c.prototype.on=function(e,n){t(this.element,e,n)};c.prototype.once=function(e,n){var o;o=function(t){return function(){a(t.element,e,o);n()}}(this);t(this.element,e,o)};c.prototype.addClass=function(t){if(!n(this.element,t)){e(this.element,t)}};c.prototype.removeClass=function(e){if(n(this.element,e)){i(this.element,e)}};c.prototype.hasClass=function(e){return n(this.element,e)};t=function(e,t,n){if(e.addEventListener){e.addEventListener(""+t,n)}else{e.attachEvent("on"+t,n)}};a=function(e,t,n){if(e.removeEventListener){e.removeEventListener(""+t,n)}else{e.detachEvent("on"+t,n)}};r=/[ \t\n\f\r]+/g;o=/^[ \t\n\f\r]+|[ \t\n\f\r]+$/g;e=function(e,t){e.className+=" "+t};i=function(e,t){e.className=(" "+e.className+" ").replace(r," ").replace(" "+t+" ","").replace(o,"")};n=function(e,t){return(" "+e.className+" ").replace(r," ").indexOf(" "+t+" ")>=0};return c}();l=function(e){g(t,e);function t(e){t.__super__.constructor.call(this,"iframe",function(t){var n,o,r,i;r={allowtransparency:true,scrolling:"no",frameBorder:0};for(n in r){o=r[n];t.setAttribute(n,o)}i={border:"none",height:"0",width:"1px"};for(n in i){o=i[n];t.style[n]=o}if(e){e(t)}})}t.prototype.html=function(e){var t;try{t=this.element.contentWindow.document;t.open();t.write(e);t.close()}catch(n){}};t.prototype.load=function(e){return this.element.src=e};t.prototype.size=function(){var e,t,n,o;try{t=this.element.contentWindow.document;n=t.documentElement;e=t.body;n.style.overflow=e.style.overflow=window.opera?"scroll":"visible";o={width:""+e.scrollWidth+"px",height:""+e.scrollHeight+"px"};n.style.overflow=e.style.overflow="";return o}catch(r){return{}}};t.prototype.resize=function(e){var t,n,o;o=e!=null?e:this.size(),n=o.width,t=o.height;if(n){this.element.style.width=n}if(t){return this.element.style.height=t}};return t}(a);e=function(){var e;function t(){}t.parse=function(t){return{href:e(t.href),text:t.getAttribute("data-text")||t.textContent||t.innerText,data:{count:{api:function(){var e;if(e=t.getAttribute("data-count-api")){if("/"!==e.charAt(0)){e="/"+e}return e}}(),href:function(){var n;if((n=t.getAttribute("data-count-href"))&&(n=e(n))){return n}else{return e(t.href)}}()},style:function(){var e,n,o,i,a;if(n=t.getAttribute("data-style")){a=r.styles;for(o=0,i=a.length;o<i;o++){e=a[o];if(e===n){return n}}}return r.styles[0]}(),icon:function(){var e;if(e=t.getAttribute("data-icon")){return e}}()}}};e=function(e){if(!/^\s*javascript:/i.test(e)){return e}};return t}();t=function(e){g(t,e);function t(){var e,n,o;n=arguments[0],e=2<=arguments.length?b.call(arguments,1):[];t.__super__.constructor.call(this,e[0]);o=function(t){return function(){var o;o=t.size();t.once("load",function(){t.resize(o);if(e[1]){e[1](t.element)}});t.load(""+r.url+"buttons.html"+n)}}(this);this.once("load",function(e){return function(){var t,n,r,i,a;if(e.element.contentWindow.callback){n=e.element.contentWindow.callback.script;if(n.readyState){e.on.call({element:n},"readystatechange",function(){if(/loaded|complete/.test(n.readyState)){o()}})}else{a=["load","error"];for(r=0,i=a.length;r<i;r++){t=a[r];e.on.call({element:n},t,function(){o()})}}}else{o()}}}(this));this.html('<!DOCTYPE html>\n<html>\n<head>\n<meta charset="utf-8">\n<title></title>\n<base target="_blank"><!--[if lte IE 6]></base><![endif]-->\n<link rel="stylesheet" href="'+r.url+'assets/css/buttons.css">\n<style>html{visibility:hidden;}</style>\n<script>document.location.hash = "'+n+'";</script>\n</head>\n<body>\n<script src="'+r.script.src+'"></script>\n</body>\n</html>')}return t}(l);n=function(){var e,t;function n(n){if(n&&n.data){document.body.className=n.data.style;document.getElementsByTagName("base")[0].href=n.href;new e(n,function(e){document.body.appendChild(e)});new t(n,function(e){document.body.appendChild(e)})}}e=function(e){g(t,e);function t(e,n){t.__super__.constructor.call(this,"a",function(t){t.className="button";if(e.href){t.href=e.href}new a("i",function(n){n=document.createElement("i");n.className=function(){var t;t=[e.data.icon||r.icon];if(r.iconClass){t.push(r.iconClass)}return t.join(" ")}();t.appendChild(n)});new a("span",function(e){e.appendChild(document.createTextNode(" "));t.appendChild(e)});new a("span",function(n){if(e.text){n.appendChild(document.createTextNode(e.text))}t.appendChild(n)});if(n){n(t)}})}return t}(a);t=function(e){g(t,e);function t(e,n){if(e.data.count.api){t.__super__.constructor.call(this,"a",function(t){t.className="count";if(e.data.count.href){t.href=e.data.count.href}new a("b",function(e){t.appendChild(e)});new a("i",function(e){t.appendChild(e)});new a("span",function(o){var i;t.appendChild(o);i=function(){var t,n;n=e.data.count.api.split("#")[0];t=p.parse(n.split("?").slice(1).join("?"));t.callback="callback";return""+n.split("?")[0]+"?"+p.stringify(t)}();new a("script",function(s){var l;s.async=true;s.src=""+r.api+i;window.callback=function(r){var i;window.callback=null;if(r.meta.status===200){i=c.flatten(r.data)[e.data.count.api.split("#").slice(1).join("#")];if(Object.prototype.toString.call(i)==="[object Number]"){i=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}o.appendChild(document.createTextNode(" "+i+" "));if(n){n(t)}}};window.callback.script=s;a.prototype.on.call({element:s},"error",function(){window.callback=null});if(s.readyState){a.prototype.on.call({element:s},"readystatechange",function(){if(s.readyState==="loaded"&&s.children&&s.readyState==="loading"){window.callback=null}})}l=document.getElementsByTagName("head")[0];l.insertBefore(s,l.firstChild)})})})}}return t}(a);return n}();s=function(e){g(t,e);function t(e,t){var n,o,r,i;this.element=e;if(t){n=function(e){return function(){t(e.serialize())}}(this);i=this.element.elements;for(o=0,r=i.length;o<r;o++){e=i[o];this.on.call({element:e},"change",n);if(e.type==="text"){this.on.call({element:e},"input",n)}}}}t.prototype.serialize=function(){var e,t,n,o,r;e={};r=this.element.elements;for(n=0,o=r.length;n<o;n++){t=r[n];if(t.name){switch(t.type){case"radio":case"checkbox":if(t.checked){e[t.name]=t.value}break;default:e[t.name]=t.value}}}return e};t.prototype.parse=function(){return t.parse(this.serialize())};t.parse=function(e){var t,n,o,r;o=e.type,r=e.user,n=e.repo;t={className:"github-button",href:function(){switch(o){case"follow":return"https://github.com/"+r;case"watch":case"star":case"fork":return"https://github.com/"+r+"/"+n;case"issue":return"https://github.com/"+r+"/"+n+"/issues";case"download":return"https://github.com/"+r+"/"+n+"/archive/master.zip";default:return"https://github.com/"}}(),text:function(){switch(o){case"follow":return"Follow @"+r;default:return o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()}}(),data:{icon:function(){switch(o){case"watch":return"octicon-eye";case"star":return"octicon-star";case"fork":return"octicon-git-branch";case"issue":return"octicon-issue-opened";case"download":return"octicon-cloud-download";default:return"octicon-mark-github"}}()}};if(e["large-button"]!=null){t.data.style="mega"}if(e["show-count"]!=null){switch(o){case"follow":t.data["count-href"]="/"+r+"/followers";t.data["count-api"]="/users/"+r+"#followers";break;case"watch":t.data["count-href"]="/"+r+"/"+n+"/watchers";t.data["count-api"]="/repos/"+r+"/"+n+"#subscribers_count";break;case"star":t.data["count-href"]="/"+r+"/"+n+"/stargazers";t.data["count-api"]="/repos/"+r+"/"+n+"#stargazers_count";break;case"fork":t.data["count-href"]="/"+r+"/"+n+"/network";t.data["count-api"]="/repos/"+r+"/"+n+"#forks_count";break;case"issue":t.data["count-api"]="/repos/"+r+"/"+n+"#open_issues_count"}}if(e["standard-icon"]!=null||t.data.icon==="octicon-mark-github"){delete t.data.icon}return t};return t}(a);i=function(e){g(t,e);function t(e){this.element=e;this.on("load",function(e){return function(){var t,n,o,r;r=e.element.contentWindow.document.getElementsByTagName("a");for(n=0,o=r.length;n<o;n++){t=r[n];e.on.call({element:t},"click",function(e){e.preventDefault();return false})}e.on.call({element:e.element.contentWindow.document.body},"click",function(){e.element.parentNode.click()})}}(this))}return t}(a);f=function(e){g(t,e);function t(e,n){var o,i,a;i=e.href,a=e.text,o=e.data;t.__super__.constructor.call(this,"a",function(e){var t,c;e.className=r.anchorClass;e.href=i;e.appendChild(document.createTextNode(""+a));for(t in o){c=o[t];e.setAttribute("data-"+t,c)}if(n){n(e)}})}return t}(a);h=function(e){g(t,e);function t(e){this.element=e;this.on("load",function(e){return function(){var t,n,o,r,i;if(e.element.contentWindow.callback){n=e.element.contentWindow.callback.script;if(n.readyState){e.on.call({element:n},"readystatechange",function(){if(/loaded|complete/.test(n.readyState)){e.resize()}})}else{i=["load","error"];for(o=0,r=i.length;o<r;o++){t=i[o];e.on.call({element:n},t,function(){e.resize()})}}}else{e.resize()}}}(this))}t.prototype.load=function(e){this.element.parentNode.style.height=""+((e.data.style==="mega"?28:20)+2)+"px";this.element.style.width="1px";this.element.style.height="0";this.element.src="buttons.html"+u.encode(e);this.element.contentWindow.document.location.reload()};return t}(l);d=function(t){g(n,t);function n(e,t){this.element=e;this.ui=t;this.on("click",function(e){return function(){event.preventDefault();e.preview();return false}}(this))}n.prototype.preview=function(t,n){if(t==null){t=this.ui.form.parse()}if(n==null){n=false}new f(t,function(t){return function(o){t.ui.code.element.value="<!-- Place this tag where you want the button to render. -->\n"+o.outerHTML;if(n){o.removeAttribute("data-count-api")}t.ui.preview_frame.load(e.parse(o));o=null}}(this))};return n}(a);o=function(e){g(t,e);function t(e){this.element=e;this.on("focus",function(e){return function(){e.element.select()}}(this));this.on("click",function(e){return function(){e.element.select()}}(this));this.on("mouseup",function(){event.preventDefault();return false})}return t}(a);m=function(e){g(t,e);function t(){t.__super__.constructor.apply(this,arguments);this.element.value='<!-- Place this tag right after the last button or just before your close body tag. -->\n<script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>'}return t}(o);w=function(){function e(){var e,t,n,r;r=document.getElementsByTagName("iframe");for(t=0,n=r.length;t<n;t++){e=r[t];if(e.parentNode.id==="preview"){this.preview_frame=new h(e)}else{new i(e)}}this.content=new a(document.getElementById("content"));this.form=new s(document.getElementById("button-config"),function(e){return function(t){var n,o,r,i,a,c,l;if(t.type){c=["repo","standard-icon"];for(o=0,i=c.length;o<i;o++){n=c[o];e.form.element.elements[n].disabled=t.type==="follow"}l=["show-count"];for(r=0,a=l.length;r<a;r++){n=l[r];e.form.element.elements[n].disabled=t.type==="download"}if(t["show-count"]!=null&&t.type!=="download"){e.preview_button.removeClass("hidden")}else{e.preview_button.addClass("hidden")}if(!((!t.user||/^[a-z0-9][a-z0-9-]*$/i.test(t.user))&&(t.type==="follow"||!t.repo||/^[\w.-]+$/.test(t.repo)&&!/^\.\.?$/.test(t.repo)))){e.user_repo.addClass("has-error")}else{e.user_repo.removeClass("has-error");if(t.user===""||t.type!=="follow"&&t.repo===""){e.user_repo.addClass("has-warning")}else{e.user_repo.removeClass("has-warning")}}if(e.user_repo.hasClass("has-error")||e.user_repo.hasClass("has-warning")){t.user="ntkme";t.repo="github-buttons";e.preview_button.addClass("hidden");e.preview_button.preview(s.parse(t))}else{e.preview_button.preview(s.parse(t),true)}e.content.removeClass("hidden")}}}(this));this.user_repo=new a(document.getElementById("user-repo"));this.preview_button=new d(document.getElementById("preview-button"),this);this.code=new o(document.getElementById("code"));this.snippet=new m(document.getElementById("snippet"))}return e}();new w;this.onbeforeunload=function(){}}).call(this);
//# sourceMappingURL=main.js.map